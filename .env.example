# Backend service
PORT=3001

# Required in production to access /api/metrics
ADMIN_KEY=replace_me

# Rate-limit configuration
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX=10

# Polygon / Massive market data
MASSIVE_API_KEY=pk_demo_replace_me
MASSIVE_BASE_URL=https://api.massive.com
MASSIVE_WS_BASE=wss://socket.massive.com
MASSIVE_WS_CLUSTER=options
FEATURE_ENABLE_MASSIVE_STREAM=false
POLYGON_API_KEY=pk_demo_replace_me
POLYGON_WS_CLUSTER=options
POLYGON_WS_ENABLED=true
FEATURE_ENABLE_POLYGON_STREAM=true
FEATURE_POLYGON_BACKOFF_ON_MAX=true
FEATURE_POLYGON_MAX_SLEEP_MS=900000
FEATURE_ENABLE_MOCK_STREAM=false
ALERT_POLL_MS=2000
ALERT_COOLDOWN_MS=10000

# Optional Discord webhook for sharing trade/backtest summaries
DISCORD_ENABLED=true
DISCORD_WEBHOOK_URL=
DISCORD_TIMEOUT_MS=4000
DISCORD_MAX_RETRIES=3
DISCORD_RETRY_BASE_MS=300
IDEMPOTENCY_TTL_MS=300000

# Supabase configuration
SUPABASE_URL=
SUPABASE_ANON_KEY=
SUPABASE_SERVICE_KEY=

# Optional development fallback (no Supabase connection)
TRADES_MEMORY_STORE=false

# Optional chart annotations fallback (memory only)
ANNOTATIONS_MEMORY_STORE=false

# Frontend demo user id
VITE_DEMO_USER_ID=demo-user
# Optional demo fallback user id for backend
DEMO_USER_ID=896fc69b-644f-4892-89a2-e523aeb7d647

# Worker configuration
WORKER_SYMBOLS=AAPL,MSFT

# WebSocket security
ALLOWED_WS_ORIGINS=
